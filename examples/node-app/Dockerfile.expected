# Dockerfile migrated to Docker Hardened Images (DHI)
# Generated by DHI Migration Tool

# Build stage - using DHI dev image with build tools
FROM myorg/dhi-node:18-dev AS build-stage
WORKDIR /app
COPY package*.json ./
RUN npm ci --omit=dev
COPY . .

# Runtime stage - using minimal DHI image
FROM myorg/dhi-node:18 AS runtime-stage
WORKDIR /app
COPY --from=build-stage --chown=nonroot:nonroot /app /app
EXPOSE 3000
CMD ["npm", "start"]